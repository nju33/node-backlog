!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("axios")):"function"==typeof define&&define.amd?define(["exports","axios"],e):e(t.backlog={},t.axios)}(this,function(t,e){e=e&&e.hasOwnProperty("default")?e.default:e;const s=t=>e.create({baseURL:"https://geek.backlog.jp/api/v2/",params:{apiKey:t}});function r(t,e,s,r){return new(s||(s=Promise))(function(o,n){function i(t){try{c(r.next(t))}catch(t){n(t)}}function a(t){try{c(r.throw(t))}catch(t){n(t)}}function c(t){t.done?o(t.value):new s(function(e){e(t.value)}).then(i,a)}c((r=r.apply(t,e||[])).next())})}class o{constructor(t){this.axios=t}}class n extends o{getProjects(t={}){return r(this,void 0,void 0,function*(){try{return(yield this.axios.get("projects",{params:t})).data}catch(t){throw new Error(t.response.data.errors[0].message)}})}getProjectByProjectKey(t,e={}){return r(this,void 0,void 0,function*(){return(yield this.getProjects(e)).find(e=>e.projectKey===t)})}}class i extends o{getIssues(t={}){return r(this,void 0,void 0,function*(){try{return(yield this.axios.get("issues",{params:t})).data}catch(t){throw new Error(t.response.data.errors[0].message)}})}}class a extends o{getStatuses(){return r(this,void 0,void 0,function*(){try{return(yield this.axios.get("statuses")).data}catch(t){throw new Error(t.response.data.errors[0].message)}})}}t.createAxiosInstance=s,t.Backlog=class{constructor(t){this.config=t;const e=s(t.apiKey);this.status=new a(e),this.project=new n(e),this.issue=new i(e)}getStatuses(){return r(this,void 0,void 0,function*(){try{return this.status.getStatuses()}catch(t){throw new Error(t.response.data.errors[0].message)}})}getProjects(t={}){return r(this,void 0,void 0,function*(){try{return this.project.getProjects(t)}catch(t){throw new Error(t.response.data.errors[0].message)}})}getProjectByProjectKey(t,e={}){return r(this,void 0,void 0,function*(){return this.project.getProjectByProjectKey(t,e)})}getIssues(t){return r(this,void 0,void 0,function*(){try{return this.issue.getIssues(t)}catch(t){throw new Error(t.response.data.errors[0].message)}})}},t.Issue=i,t.Module=o,t.Project=n,t.Status=a});
//# sourceMappingURL=backlog.umd.js.map
